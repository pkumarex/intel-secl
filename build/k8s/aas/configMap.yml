#  Copyright (C) 2021 Intel Corporation
#  SPDX-License-Identifier: BSD-3-Clause

---
apiVersion: v1
kind: ConfigMap
metadata:
  name: aas-db-config
  namespace: isecl
data:
  pg_hba.conf: |
    local  all  all trust
    hostssl aasdb aasdbuser 10.1.0.0/8 md5
  postgresql.conf: |
    listen_addresses = '*'
    port = 5432
    ssl = on
    ssl_cert_file = '/etc/postgresql/secrets/server.crt'
    ssl_key_file = '/etc/postgresql/secrets/server.key'
    ssl_ciphers = 'ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256'
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: aas-config
  namespace: isecl
data:
  SAN_LIST: aas-svc.isecl.svc.cluster.local
  CMS_BASE_URL: https://cms-svc.isecl.svc.cluster.local:8445/cms/v1/
  CMS_TLS_CERT_SHA384:
  AAS_DB_HOSTNAME: aasdb-svc.isecl.svc.cluster.local
  AAS_DB_PORT: "5432"
  AAS_DB_NAME: aasdb
  AAS_DB_SSLMODE: verify-full
  AAS_DB_SSLCERT: /etc/postgresql/server.crt
  BEARER_TOKEN:

